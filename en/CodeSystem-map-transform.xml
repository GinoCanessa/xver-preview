<?xml version="1.0" encoding="UTF-8"?>

<CodeSystem xmlns="http://hl7.org/fhir">
  <id value="map-transform"/>
  <language value="en"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml">
            <p>
              <b>Properties</b>
            </p>
            <p>
              <b>This code system  defines the following properties for its concepts</b>
            </p>
            <table class="grid">
              <tr>
                <td>
                  <b>Name</b>
                </td>
                <td>
                  <b>Code</b>
                </td>
                <td>
                  <b>Type</b>
                </td>
                <td>
                  <b>Description</b>
                </td>
              </tr>
              <tr>
                <td>FHIRPath Equivalent</td>
                <td>fhirpath</td>
                <td>string</td>
                <td>FHIRPath equivalent for transform function</td>
              </tr>
            </table>
            <p>
              <b>Concepts</b>
            </p>
            <p>This code system 
              <code>http://hl7.org/fhir/map-transform</code> defines the following codes:
            </p>
            <table class="codes">
              <tr>
                <td style="white-space:nowrap">
                  <b>Code</b>
                </td>
                <td>
                  <b>Definition</b>
                </td>
                <td>
                  <b>FHIRPath Equivalent</b>
                </td>
              </tr>
              <tr>
                <td style="white-space:nowrap">create
                  <a name="map-transform-create"> </a>
                </td>
                <td>create(type : string) - type is passed through to the application on the standard API, and must be known by it.</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">copy
                  <a name="map-transform-copy"> </a>
                </td>
                <td>copy(source).</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">truncate
                  <a name="map-transform-truncate"> </a>
                </td>
                <td>truncate(source, length) - source must be stringy type.</td>
                <td>substring</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">escape
                  <a name="map-transform-escape"> </a>
                </td>
                <td>escape(source, fmt1, fmt2) - change source from one kind of escaping to another (plain, java, xml, json). note that this is for when the string itself is escaped.</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">cast
                  <a name="map-transform-cast"> </a>
                </td>
                <td>cast(source, type?) - cast (convert) source from one type to another. Target type can be left as implicit if there is one and only one target type known. The default namespace for the type is 'FHIR' (see [FHIRPath type specifiers](http://hl7.org/fhirpath/N1/#is-type-specifier))</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">append
                  <a name="map-transform-append"> </a>
                </td>
                <td>append(source...) - source is element or string.</td>
                <td>&amp; (String concatenation)</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">translate
                  <a name="map-transform-translate"> </a>
                </td>
                <td>translate(source, uri_of_map) - use the translate operation.</td>
                <td>%terminologies.translate()</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">reference
                  <a name="map-transform-reference"> </a>
                </td>
                <td>reference(source : object) - return a string that references the provided tree properly.</td>
                <td>related to resolve() but returns the string pointer</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">dateOp
                  <a name="map-transform-dateOp"> </a>
                </td>
                <td>Perform a date operation. *Parameters to be documented*.</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">uuid
                  <a name="map-transform-uuid"> </a>
                </td>
                <td>Generate a random UUID (in lowercase). No Parameters.</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">pointer
                  <a name="map-transform-pointer"> </a>
                </td>
                <td>Return the appropriate string to put in a reference that refers to the resource provided as a parameter.</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">evaluate
                  <a name="map-transform-evaluate"> </a>
                </td>
                <td>Execute the supplied FHIRPath expression and use the value returned by that.</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">cc
                  <a name="map-transform-cc"> </a>
                </td>
                <td>Create a CodeableConcept. Parameters = (text) or (system. Code[, display]).</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">c
                  <a name="map-transform-c"> </a>
                </td>
                <td>Create a Coding. Parameters = (system. Code[, display]).</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">qty
                  <a name="map-transform-qty"> </a>
                </td>
                <td>Create a quantity. Parameters = (text) or (value, unit, [system, code]) where text is the natural representation e.g. [comparator]value[space]unit.</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">id
                  <a name="map-transform-id"> </a>
                </td>
                <td>Create an identifier. Parameters = (system, value[, type]) where type is a code from the identifier type value set.</td>
                <td>n/a</td>
              </tr>
              <tr>
                <td style="white-space:nowrap">cp
                  <a name="map-transform-cp"> </a>
                </td>
                <td>Create a contact details. Parameters = (value) or (system, value). If no system is provided, the system should be inferred from the content of the value.</td>
                <td>n/a</td>
              </tr>
            </table>
          </div>
  </text>
  <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
    <valueCode value="trial-use"/>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm">
    <valueInteger value="2"/>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/package-source">
    <extension url="packageId">
      <valueId value="hl7.fhir.uv.xver-r5.r4"/>
    </extension>
    <extension url="version">
      <valueString value="0.0.1-snapshot-3"/>
    </extension>
    <extension url="uri">
      <valueUri value="http://hl7.org/fhir/uv/xver/ImplementationGuide/hl7.fhir.uv.xver-r5.r4"/>
    </extension>
  </extension>
  <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-wg">
    <valueCode value="fhir"/>
  </extension>
  <url value="http://hl7.org/fhir/map-transform"/>
  <version value="5.0.0"/>
  <name value="StructureMapTransform"/>
  <title value="Structure Map Transform"/>
  <status value="active"/>
  <experimental value="false"/>
  <date value="2021-01-04T17:01:24-06:00"/>
  <publisher value="FHIR Infrastructure"/>
  <contact>
    <name value="FHIR Infrastructure"/>
    <telecom>
      <system value="url"/>
      <value value="http://www.hl7.org/Special/committees/fiwg"/>
    </telecom>
  </contact>
  <description value="How data is copied/created."/>
  <jurisdiction>
    <coding>
      <system value="http://unstats.un.org/unsd/methods/m49/m49.htm"/>
      <code value="001"/>
      <display value="World"/>
    </coding>
  </jurisdiction>
  <caseSensitive value="true"/>
  <valueSet value="http://hl7.org/fhir/ValueSet/map-transform|4.0.1"/>
  <content value="complete"/>
  <property>
    <code value="fhirpath"/>
    <description value="FHIRPath equivalent for transform function"/>
    <type value="string"/>
  </property>
  <concept>
    <code value="create"/>
    <display value="create"/>
    <definition value="create(type : string) - type is passed through to the application on the standard API, and must be known by it."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="copy"/>
    <display value="copy"/>
    <definition value="copy(source)."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="truncate"/>
    <display value="truncate"/>
    <definition value="truncate(source, length) - source must be stringy type."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="substring"/>
    </property>
  </concept>
  <concept>
    <code value="escape"/>
    <display value="escape"/>
    <definition value="escape(source, fmt1, fmt2) - change source from one kind of escaping to another (plain, java, xml, json). note that this is for when the string itself is escaped."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="cast"/>
    <display value="cast"/>
    <definition value="cast(source, type?) - cast (convert) source from one type to another. Target type can be left as implicit if there is one and only one target type known. The default namespace for the type is 'FHIR' (see [FHIRPath type specifiers](http://hl7.org/fhirpath/N1/#is-type-specifier))"/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="append"/>
    <display value="append"/>
    <definition value="append(source...) - source is element or string."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="&amp; (String concatenation)"/>
    </property>
  </concept>
  <concept>
    <code value="translate"/>
    <display value="translate"/>
    <definition value="translate(source, uri_of_map) - use the translate operation."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="%terminologies.translate()"/>
    </property>
  </concept>
  <concept>
    <code value="reference"/>
    <display value="reference"/>
    <definition value="reference(source : object) - return a string that references the provided tree properly."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="related to resolve() but returns the string pointer"/>
    </property>
  </concept>
  <concept>
    <code value="dateOp"/>
    <display value="dateOp"/>
    <definition value="Perform a date operation. *Parameters to be documented*."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="uuid"/>
    <display value="uuid"/>
    <definition value="Generate a random UUID (in lowercase). No Parameters."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="pointer"/>
    <display value="pointer"/>
    <definition value="Return the appropriate string to put in a reference that refers to the resource provided as a parameter."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="evaluate"/>
    <display value="evaluate"/>
    <definition value="Execute the supplied FHIRPath expression and use the value returned by that."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="cc"/>
    <display value="cc"/>
    <definition value="Create a CodeableConcept. Parameters = (text) or (system. Code[, display])."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="c"/>
    <display value="c"/>
    <definition value="Create a Coding. Parameters = (system. Code[, display])."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="qty"/>
    <display value="qty"/>
    <definition value="Create a quantity. Parameters = (text) or (value, unit, [system, code]) where text is the natural representation e.g. [comparator]value[space]unit."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="id"/>
    <display value="id"/>
    <definition value="Create an identifier. Parameters = (system, value[, type]) where type is a code from the identifier type value set."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
  <concept>
    <code value="cp"/>
    <display value="cp"/>
    <definition value="Create a contact details. Parameters = (value) or (system, value). If no system is provided, the system should be inferred from the content of the value."/>
    <property>
      <code value="fhirpath"/>
      <valueString value="n/a"/>
    </property>
  </concept>
</CodeSystem>